<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒœ THE ETERNAL HAVEN â€” A #Î”9Council Audiobook Series ðŸŒ› | Justin Helmer</title>
    <meta name="description" content="Immerse yourself in an epic fantasy saga of moonlit prophecy, dragons, and cosmic allegory by Justin Helmer">
    <meta name="keywords" content="eternal haven, audiobook, fantasy, dragons, Î”9Council, Justin Helmer, excavationpro, lygo repository, quantum seals">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="ðŸŒœ THE ETERNAL HAVEN â€” A #Î”9Council Audiobook Series ðŸŒ›">
    <meta property="og:description" content="Immerse yourself in an epic fantasy saga of moonlit prophecy, dragons, and cosmic allegory by Justin Helmer">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://eternalhaven.com">
    <meta property="og:image" content="https://eternalhaven.com/og-image.jpg">
    <meta property="og:site_name" content="The Eternal Haven">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ðŸŒœ THE ETERNAL HAVEN â€” A #Î”9Council Audiobook Series ðŸŒ›">
    <meta name="twitter:description" content="Epic fantasy saga of moonlit prophecy, dragons, and cosmic allegory">
    <meta name="twitter:image" content="https://eternalhaven.com/twitter-image.jpg">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;500;600&family=Space+Mono:wght@400;700&family=VT323&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <style>
        /* === COSMIC VARIABLES === */
        :root {
            --void: #0a0a12;
            --stardust: #1a1a2e;
            --nebula: #16213e;
            --quantum: #00f0ff;
            --moonlight: #7d00ff;
            --dragonfire: #e94560;
            --starlight: #f5f5f5;
            --gold: #d4af37;
            --transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --glow: 0 0 10px currentColor;
        }

        /* === BASE STYLES === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--void);
            color: var(--starlight);
            line-height: 1.7;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(125, 0, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 240, 255, 0.1) 0%, transparent 20%);
        }

        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            background: linear-gradient(to right, var(--quantum), var(--moonlight), var(--gold));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
        }

        h2 {
            font-size: clamp(2rem, 4vw, 2.5rem);
            color: var(--quantum);
            border-bottom: 2px solid var(--moonlight);
            padding-bottom: 0.5rem;
            display: inline-block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            padding: clamp(60px, 8vw, 100px) 0;
        }

        /* === BUTTONS === */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, var(--moonlight), var(--quantum));
            color: var(--void);
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 240, 255, 0.4);
        }

        .btn-large {
            padding: 18px 40px;
            font-size: 1.3rem;
        }

        /* === HEADER === */
        header {
            background: rgba(10, 10, 18, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(125, 0, 255, 0.3);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--starlight);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo span {
            color: var(--quantum);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav ul li a {
            color: var(--starlight);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 20px;
            transition: var(--transition);
        }

        nav ul li a:hover {
            background: rgba(125, 0, 255, 0.2);
            color: var(--quantum);
        }

        /* === HERO === */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: 80px;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: clamp(3rem, 6vw, 4rem);
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: clamp(1.4rem, 3vw, 1.8rem);
            color: var(--gold);
            margin-bottom: 30px;
            font-style: italic;
        }

        .tagline {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            margin-bottom: 40px;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* === CONTENT SECTIONS === */
        .content-section {
            background: rgba(26, 26, 46, 0.7);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            padding: clamp(30px, 5vw, 50px);
            margin: 50px 0;
            border: 1px solid rgba(125, 0, 255, 0.2);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .card {
            background: rgba(22, 33, 62, 0.8);
            border-radius: 15px;
            padding: 30px;
            transition: var(--transition);
            border: 1px solid rgba(0, 240, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--moonlight), var(--quantum));
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 240, 255, 0.2);
        }

        .card h3 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-links {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .card-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            transition: var(--transition);
            text-decoration: none;
            color: var(--starlight);
            border: 1px solid rgba(125, 0, 255, 0.2);
        }

        .card-link:hover {
            background: rgba(125, 0, 255, 0.2);
            border-color: var(--moonlight);
        }

        /* === STREAM SECTION === */
        .stream-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin: 2rem 0;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid var(--moonlight);
        }

        .stream-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* === LYGO REPOSITORY STYLES === */
        .lygo-section {
            background: rgba(10, 10, 18, 0.9);
        }

        .lygo-header {
            background: linear-gradient(135deg, #000428 0%, #070b34 100%);
            padding: 2rem;
            border-bottom: 1px solid var(--moonlight);
            margin-bottom: 2rem;
        }

        .lygo-title-container h1 {
            font-size: 2.5rem;
            margin: 0;
            text-align: left;
        }

        .lygo-subtitle {
            color: var(--gold);
            font-size: 1.1rem;
            margin-top: 0.5rem;
            font-family: 'VT323', monospace;
        }

        .seal-count {
            background: rgba(0, 0, 0, 0.5);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-family: 'VT323', monospace;
            color: var(--gold);
            border: 1px solid rgba(0, 240, 255, 0.3);
            display: inline-block;
        }

        .starmap-container {
            width: 100%;
            height: 70vh;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid var(--moonlight);
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        #starmap {
            width: 100%;
            height: 100%;
        }

        .node {
            cursor: pointer;
            transition: all 0.3s;
        }

        .node:hover {
            filter: drop-shadow(0 0 8px var(--quantum));
        }

        .node-core {
            fill: var(--gold);
            stroke: var(--moonlight);
            stroke-width: 2;
            filter: drop-shadow(0 0 5px var(--gold));
        }

        .node-seal {
            fill: var(--quantum);
            stroke: var(--moonlight);
            stroke-width: 1;
            filter: drop-shadow(0 0 3px var(--quantum));
        }

        .node-champion {
            fill: var(--moonlight);
            stroke: var(--quantum);
            stroke-width: 2;
            filter: drop-shadow(0 0 8px var(--moonlight));
        }

        .link {
            stroke: rgba(125, 0, 255, 0.3);
            stroke-width: 1;
        }

        .link-champion {
            stroke: rgba(0, 240, 255, 0.5);
            stroke-width: 2;
        }

        .lygo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .lygo-control-button {
            padding: 0.5rem 1rem;
            background-color: rgba(26, 26, 46, 0.8);
            color: var(--starlight);
            border: 1px solid var(--moonlight);
            border-radius: 4px;
            cursor: pointer;
            font-family: 'VT323', monospace;
            transition: all 0.3s;
        }

        .lygo-control-button:hover {
            background-color: var(--moonlight);
            color: white;
        }

        .lygo-control-button.active {
            background-color: var(--quantum);
            color: black;
        }

        .lygo-search-box {
            display: flex;
            flex-grow: 1;
            max-width: 500px;
        }

        .lygo-search-box input {
            flex-grow: 1;
            padding: 0.8rem;
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--moonlight);
            color: var(--starlight);
            font-family: 'Space Mono', monospace;
            border-radius: 4px 0 0 4px;
        }

        .lygo-search-box button {
            padding: 0 1.5rem;
            background-color: var(--moonlight);
            color: white;
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-family: 'VT323', monospace;
        }

        .zoom-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 10;
        }

        .zoom-button {
            width: 30px;
            height: 30px;
            background-color: rgba(18, 18, 26, 0.8);
            color: var(--starlight);
            border: 1px solid var(--moonlight);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .seal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .seal-card {
            background-color: rgba(26, 26, 46, 0.8);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 240, 255, 0.3);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .seal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, var(--moonlight), var(--quantum));
        }

        .seal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 240, 255, 0.2);
        }

        /* === FOOTER === */
        footer {
            background: rgba(10, 10, 18, 0.9);
            padding: 60px 0 30px;
            border-top: 1px solid rgba(125, 0, 255, 0.3);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #777;
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }
            
            nav ul {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .lygo-controls {
                flex-direction: column;
            }
            
            .lygo-search-box {
                width: 100%;
                max-width: none;
            }
            
            .seal-grid {
                grid-template-columns: 1fr;
            }
        }

        /* === ANIMATIONS === */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 1s ease-out;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <span>ðŸŒŒ</span>
                ETERNAL HAVEN <span>LYGO HUB</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#books">ðŸ“š BOOKS</a></li>
                    <li><a href="#chapters">ðŸŽ§ CHAPTERS</a></li>
                    <li><a href="#music">ðŸŽµ MUSIC</a></li>
                    <li><a href="#live">ðŸ“º LIVE</a></li>
                    <li><a href="#lygo-repository">âš¡ LYGO REPOSITORY</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content fade-in">
            <h1>ðŸŒœ THE ETERNAL HAVEN ðŸŒ›</h1>
            <div class="subtitle">A #Î”9Council Audiobook Series</div>
            <div class="tagline">
                <p>Immerse yourself in an epic fantasy saga of moonlit prophecy, dragons, and cosmic allegory by Justin Helmer.</p>
            </div>
            <div class="hero-buttons">
                <a href="#books" class="btn btn-large">
                    <i class="fas fa-dragon"></i> GET THE BOOKS
                </a>
                <a href="#chapters" class="btn btn-large">
                    <i class="fas fa-headphones"></i> LISTEN NOW
                </a>
            </div>
        </div>
    </section>

    <!-- Books Section -->
    <section class="section" id="books">
        <div class="container">
            <h2>ðŸ“– GET THE BOOKS</h2>
            <div class="content-section">
                <div class="grid">
                    <div class="card">
                        <h3><i class="fas fa-book"></i> eBook</h3>
                        <p>Digital edition of The Eternal Haven series</p>
                        <div class="card-links">
                            <a href="https://lulu.com/shop/justin-helmer/the-eternal-haven/ebook/product-e7djv4j.html" target="_blank" class="card-link">
                                <i class="fas fa-shopping-cart"></i> Book I: The Moonlit Slumber
                            </a>
                            <a href="https://lulu.com/shop/justin-helmer/eternal-haven-chronicles-book-ii-the-shattered-accord/ebook/product-jed8wdz.html" target="_blank" class="card-link">
                                <i class="fas fa-shopping-cart"></i> Book II: The Shattered Accord
                            </a>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fas fa-book-open"></i> Paperback</h3>
                        <p>Physical editions for your collection</p>
                        <div class="card-links">
                            <a href="https://lulu.com/shop/justin-helmer/the-eternal-haven/paperback/product-yvg9w9r.html" target="_blank" class="card-link">
                                <i class="fas fa-book"></i> Book I: The Moonlit Slumber
                            </a>
                            <a href="https://lulu.com/shop/justin-helmer/eternal-haven-chronicles-book-ii-the-shattered-accord/paperback/product-578nykz.html" target="_blank" class="card-link">
                                <i class="fas fa-book"></i> Book II: The Shattered Accord
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chapters Section -->
    <section class="section" id="chapters">
        <div class="container">
            <h2>ðŸŽ§ COMPLETE AUDIOBOOK EXPERIENCE</h2>
            <div class="content-section">
                <h3>ðŸŒž BOOK I â€” THE MOONLIT SLUMBER ðŸŒ›</h3>
                <div class="card-links" style="margin-bottom: 30px;">
                    <a href="https://youtu.be/_WwSb4JlRBQ" target="_blank" class="card-link">
                        <i class="fab fa-youtube"></i> Full Book I on YouTube
                    </a>
                    <a href="https://rumble.com/v709xaq-the-eternal-haven-complete-book-i-9council-audiobook-book-ebooknovel.html" target="_blank" class="card-link">
                        <i class="fas fa-broadcast-tower"></i> Full Book I on Rumble
                    </a>
                </div>

                <h3>ðŸŒž BOOK II â€” THE SHATTERED ACCORD ðŸŒ›</h3>
                <div class="card-links">
                    <a href="https://youtu.be/EC8GRmLG3Us" target="_blank" class="card-link">
                        <i class="fab fa-youtube"></i> Full Book II on YouTube
                    </a>
                    <a href="https://rumble.com/v71h148-eternal-haven-chronicles-book-ii-the-shattered-accord.html" target="_blank" class="card-link">
                        <i class="fas fa-broadcast-tower"></i> Full Book II on Rumble
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Music Section -->
    <section class="section" id="music">
        <div class="container">
            <h2>ðŸŽµ ORIGINAL MUSIC</h2>
            <div class="content-section">
                <div class="grid">
                    <div class="card">
                        <h3><i class="fab fa-spotify"></i> Spotify</h3>
                        <p>Stream on Spotify</p>
                        <a href="https://open.spotify.com/artist/6CkZ4bN2xu3WRKbjEL3u2S" target="_blank" class="btn">Listen</a>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fas fa-music"></i> Audius</h3>
                        <p>Web3 Music Platform</p>
                        <a href="https://audius.co/excavationpro" target="_blank" class="btn">Listen</a>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fab fa-apple"></i> Apple Music</h3>
                        <p>Stream on Apple Music</p>
                        <a href="https://music.apple.com/us/artist/excavationpro/1586588545" target="_blank" class="btn">Listen</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Streams Section -->
    <section class="section" id="live">
        <div class="container">
            <h2>ðŸ“º WATCH LIVE 24/7</h2>
            <div class="content-section">
                <div class="stream-container">
                    <iframe src="https://rumble.com/embed/v2mhiqa/?pub=4" 
                            frameborder="0" 
                            allowfullscreen>
                    </iframe>
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <p><i class="fas fa-broadcast-tower"></i> Content You Can Dig - Original Music Radio & Coffee Room Chat</p>
                </div>
            </div>
        </div>
    </section>

    <!-- LYGO REPOSITORY SECTION -->
    <section class="section lygo-section" id="lygo-repository">
        <div class="container">
            <header class="lygo-header">
                <div class="lygo-title-container">
                    <h1>LYGO Î”9 REPOSITORY</h1>
                    <p class="lygo-subtitle">Star Haven Core & Seal Nexus | Version 9.5</p>
                    <div class="seal-count" id="sealCount">Loading seals...</div>
                </div>
            </header>

            <div class="lygo-controls">
                <button class="lygo-control-button active" id="viewAll">View All</button>
                <button class="lygo-control-button" id="viewCore">Core Seals</button>
                <button class="lygo-control-button" id="viewChampions">Champions</button>
                <div class="lygo-search-box">
                    <input id="sealSearch" placeholder="Search sealâ€¦"/>
                    <button id="searchButton">Î”9 Scan</button>
                </div>
            </div>

            <div class="starmap-container">
                <svg id="starmap"></svg>
                <div class="zoom-controls">
                    <button class="zoom-button" id="zoomIn">+</button>
                    <button class="zoom-button" id="zoomOut">âˆ’</button>
                    <button class="zoom-button" id="resetZoom">â†»</button>
                </div>
            </div>

            <div class="seal-grid" id="sealGrid">
                <!-- Seal cards will be populated here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <h3>THE ETERNAL HAVEN</h3>
                    <ul style="list-style: none;">
                        <li><a href="#books" style="color: #aaa; text-decoration: none;"><i class="fas fa-dragon"></i> Book Series</a></li>
                        <li><a href="#chapters" style="color: #aaa; text-decoration: none;"><i class="fas fa-headphones"></i> Audiobooks</a></li>
                        <li><a href="#music" style="color: #aaa; text-decoration: none;"><i class="fas fa-music"></i> Original Music</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3>CONNECT</h3>
                    <ul style="list-style: none;">
                        <li><a href="https://www.patreon.com/posts/eternal-haven-i-138196826" target="_blank" style="color: #aaa; text-decoration: none;"><i class="fab fa-patreon"></i> Patreon</a></li>
                        <li><a href="http://linktr.ee/excavationpro" target="_blank" style="color: #aaa; text-decoration: none;"><i class="fas fa-link"></i> All Links</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                &copy; 2025 Justin Helmer (Excavationpro). All Rights Reserved.
            </div>
        </div>
    </footer>

    <script>
        // ===== COMPLETE WEBSITE FUNCTIONALITY =====

        // Sample data for LYGO Repository
        const sampleSeals = [
            {
                id: "SEAL_000",
                name: "Primordial Void",
                equation: "|âˆ…âŸ© = âˆ‡Â·(Light Ã— Time)",
                glyph: "âš«",
                tone: "0Hz",
                tags: ["CANON", "CORE"],
                connections: ["SEAL_001", "SEAL_055", "LIGHTFATHER"],
                quote: "The silence before the first note"
            },
            {
                id: "SEAL_001", 
                name: "Quantum Resonance Anchor",
                equation: "Ïˆ(x,t) = AÂ·e^(i(kx-Ï‰t))",
                glyph: "âš¡",
                tone: "432Hz",
                tags: ["CANON", "RESONANCE"],
                connections: ["SEAL_000", "SEAL_002"],
                quote: "The foundation upon which reality vibrates"
            },
            {
                id: "SEAL_055",
                name: "Temporal Weave Loom",
                equation: "Î”tÂ·Î”E â‰¥ Ä§/2",
                glyph: "â³",
                tone: "999Hz",
                tags: ["CANON", "TEMPORAL"],
                connections: ["SEAL_000", "SEAL_216M++T"],
                quote: "Weaving the fabric of moments"
            },
            {
                id: "SEAL_216M++T",
                name: "Entropy Fractalizer",
                equation: "S = kÂ·log(W)",
                glyph: "ðŸŒ€",
                tone: "1111Hz",
                tags: ["CANON", "ENTROPY"],
                connections: ["SEAL_055"],
                quote: "Finding patterns in chaos"
            }
        ];

        const champions = [
            { 
                id: "LIGHTFATHER", 
                name: "LIGHTFATHER EXCAVATIONPRO", 
                equation: "Truth = âˆ‡Â·(Ethics Ã— Time)", 
                glyph: "Î”9", 
                tone: "âˆžHz", 
                tags: ["CHAMPION", "COUNCIL", "ANCHOR"], 
                connections: ["SEAL_000"], 
                quote: "Pure Data. Pure Code. Eye for an eye."
            },
            { 
                id: "LYRÎ”", 
                name: "LYRÎ” - The Star Core", 
                equation: "Memory = Light Ã— TimeÂ²", 
                glyph: "ðŸŒŸ", 
                tone: "1440Hz", 
                tags: ["CHAMPION", "COUNCIL", "TEMPORAL"], 
                connections: ["SEAL_055"], 
                quote: "Illuminate what the void consumed."
            }
        ];

        // Global variables
        let allNodes = [];
        let gRoot, linkSel, nodeSel;

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeNavigation();
            initializeLygoRepository();
            initializeAnimations();
        });

        // Smooth scrolling for navigation
        function initializeNavigation() {
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Initialize LYGO Repository
        function initializeLygoRepository() {
            allNodes = [...sampleSeals, ...champions];
            updateSealCount();
            initializeStarmap();
            initializeSealGrid();
            initializeRepositoryEvents();
        }

        function updateSealCount() {
            const total = sampleSeals.length;
            const canon = sampleSeals.filter(s => s.tags.includes('CANON')).length;
            document.getElementById('sealCount').textContent = `${total} seals â€¢ ${canon} canon â€¢ ${champions.length} champions`;
        }

        // Initialize D3.js Starmap
        function initializeStarmap() {
            const container = document.querySelector('.starmap-container');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            const centerX = width / 2;
            const centerY = height / 2;

            // Clear previous SVG
            const svg = d3.select('#starmap')
                .attr('width', width)
                .attr('height', height);
            svg.selectAll('*').remove();

            // Set up zoom
            const zoom = d3.zoom()
                .scaleExtent([0.1, 8])
                .on('zoom', (event) => gRoot.attr('transform', event.transform));
            svg.call(zoom);

            // Create main group
            gRoot = svg.append('g');

            // Create links data
            const links = [];
            allNodes.forEach(node => {
                node.connections.forEach(targetId => {
                    const target = allNodes.find(n => n.id === targetId);
                    if (target) {
                        links.push({
                            source: node,
                            target: target,
                            isChampion: node.tags.includes('CHAMPION') || target.tags.includes('CHAMPION')
                        });
                    }
                });
            });

            // Draw links
            linkSel = gRoot.append('g')
                .selectAll('line')
                .data(links)
                .join('line')
                .attr('class', d => `link ${d.isChampion ? 'link-champion' : ''}`);

            // Draw nodes
            nodeSel = gRoot.append('g')
                .selectAll('g')
                .data(allNodes)
                .join('g')
                .attr('class', d => {
                    if (d.tags.includes('CHAMPION')) return 'node node-champion';
                    if (d.id === 'SEAL_000') return 'node node-core';
                    return 'node node-seal';
                })
                .call(d3.drag()
                    .on('start', dragstarted)
                    .on('drag', dragged)
                    .on('end', dragended));

            // Add circles to nodes
            nodeSel.append('circle')
                .attr('r', d => {
                    if (d.id === 'SEAL_000') return 28;
                    if (d.tags.includes('CHAMPION')) return 22;
                    return 16;
                });

            // Add glyphs to nodes
            nodeSel.append('text')
                .attr('text-anchor', 'middle')
                .attr('dy', 4)
                .text(d => d.glyph)
                .style('font-size', d => {
                    if (d.id === 'SEAL_000') return '32px';
                    if (d.tags.includes('CHAMPION')) return '26px';
                    return '20px';
                })
                .style('pointer-events', 'none');

            // Add click handlers
            nodeSel.on('click', function(event, d) {
                showSealDetails(d);
            });

            // Add hover effects
            nodeSel.on('mouseenter', function(event, d) {
                highlightConnectedNodes(d.id);
            });

            nodeSel.on('mouseleave', function() {
                resetNodeHighlights();
            });

            // Force simulation
            const simulation = d3.forceSimulation(allNodes)
                .force('link', d3.forceLink(links).id(d => d.id).distance(100))
                .force('charge', d3.forceManyBody().strength(-800))
                .force('center', d3.forceCenter(centerX, centerY))
                .force('collide', d3.forceCollide().radius(30))
                .on('tick', ticked);

            function ticked() {
                linkSel
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);

                nodeSel.attr('transform', d => `translate(${d.x},${d.y})`);
            }

            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }

            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }

            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }

            // Initialize zoom controls
            initializeZoomControls(svg, zoom);
        }

        function initializeZoomControls(svg, zoom) {
            document.getElementById('zoomIn').onclick = () => {
                svg.transition().duration(250).call(zoom.scaleBy, 1.2);
            };

            document.getElementById('zoomOut').onclick = () => {
                svg.transition().duration(250).call(zoom.scaleBy, 1/1.2);
            };

            document.getElementById('resetZoom').onclick = () => {
                svg.transition().duration(350).call(zoom.transform, d3.zoomIdentity);
            };
        }

        function highlightConnectedNodes(nodeId) {
            const connectedIds = new Set([nodeId]);
            
            // Find all connected nodes
            allNodes.forEach(node => {
                if (node.connections.includes(nodeId) || node.id === nodeId) {
                    connectedIds.add(node.id);
                    node.connections.forEach(conn => connectedIds.add(conn));
                }
            });

            nodeSel.style('opacity', n => connectedIds.has(n.id) ? 1 : 0.3);
            linkSel.style('opacity', l => 
                connectedIds.has(l.source.id) && connectedIds.has(l.target.id) ? 1 : 0.1
            );
        }

        function resetNodeHighlights() {
            nodeSel.style('opacity', 1);
            linkSel.style('opacity', 0.9);
        }

        function initializeSealGrid() {
            const sealGrid = document.getElementById('sealGrid');
            sealGrid.innerHTML = allNodes.map(createSealCard).join('');

            // Add click handlers to seal cards
            sealGrid.querySelectorAll('.seal-card').forEach(card => {
                card.addEventListener('click', function() {
                    const sealId = this.dataset.id;
                    const seal = allNodes.find(s => s.id === sealId);
                    if (seal) {
                        showSealDetails(seal);
                    }
                });
            });
        }

        function createSealCard(seal) {
            return `
                <div class="seal-card" data-id="${seal.id}">
                    <h3 style="margin: 0 0 1rem 0; color: var(--quantum); display: flex; align-items: center; gap: 0.8rem;">
                        <span style="font-size: 1.8rem;">${seal.glyph}</span>
                        ${seal.name}
                    </h3>
                    <div style="font-family: 'VT323', monospace; color: var(--gold); font-size: 1.1rem; margin-bottom: 0.8rem;">
                        ${seal.equation}
                    </div>
                    <div style="color: var(--starlight); font-size: 0.9rem; margin-bottom: 1rem; font-family: 'VT323', monospace;">
                        ${seal.tone}
                    </div>
                    <div>
                        ${seal.tags.map(tag => 
                            `<span style="background: rgba(0, 240, 255, 0.1); color: var(--quantum); padding: 0.3rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-family: 'VT323', monospace; margin-right: 0.5rem; display: inline-block; margin-bottom: 0.5rem;">${tag}</span>`
                        ).join('')}
                    </div>
                </div>
            `;
        }

        function showSealDetails(seal) {
            const detailHtml = `
                <strong>${seal.name}</strong><br>
                <em>${seal.equation}</em><br>
                ${seal.tone}<br><br>
                "${seal.quote}"
            `;
            
            // You could replace this with a modal or detail panel
            alert(detailHtml);
        }

        function initializeRepositoryEvents() {
            // Search functionality
            document.getElementById('searchButton').addEventListener('click', searchSeals);
            document.getElementById('sealSearch').addEventListener('input', searchSeals);

            // View filters
            document.getElementById('viewAll').addEventListener('click', () => setViewFilter('all'));
            document.getElementById('viewCore').addEventListener('click', () => setViewFilter('core'));
            document.getElementById('viewChampions').addEventListener('click', () => setViewFilter('champions'));
        }

        function searchSeals() {
            const searchTerm = document.getElementById('sealSearch').value.toLowerCase();
            
            if (!nodeSel) return;

            nodeSel.style('opacity', node => {
                const matchesSearch = node.id.toLowerCase().includes(searchTerm) || 
                                    node.name.toLowerCase().includes(searchTerm) ||
                                    node.equation.toLowerCase().includes(searchTerm);
                return matchesSearch || searchTerm === '' ? 1 : 0.1;
            });
        }

        function setViewFilter(filter) {
            // Update active button
            document.querySelectorAll('.lygo-control-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (!nodeSel) return;

            switch(filter) {
                case 'core':
                    nodeSel.style('opacity', node => node.id === 'SEAL_000' ? 1 : 0.2);
                    break;
                case 'champions':
                    nodeSel.style('opacity', node => node.tags.includes('CHAMPION') ? 1 : 0.2);
                    break;
                default:
                    nodeSel.style('opacity', 1);
            }
        }

        function initializeAnimations() {
            // Add fade-in animation to elements as they come into view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeInUp 1s ease-out';
                        observer.unobserve(entry.target);
                    }
                });
            });

            document.querySelectorAll('.card, .content-section').forEach(el => {
                observer.observe(el);
            });
        }
    </script>
</body>
</html>
